+++
title = "스프링 프로젝트 시작하기"
weight = 9
+++

### 계층형 아키텍처
3계층 구조(프레젠테이션 계층, 서비스 계층, 데이터 엑세스 계층)는 스프링을 사용하는 엔터프라이즈 애플리케이션에서 가장 많이 사용되는 구조다. 스프링의 주요 모듈과 기술을
살펴보면 3계층 구조에 적합하도록 설계되어 있다는 사실만 봐도 알 수 있다. 단 3계층이라는 것은 논리적이고 개념적인 구분이지
꼭 오브젝트 단위로 딱 끊어져서 만들어지는 게 아님을 염두에 둬야 한다.

서비스 계층을 굳이 도입하지 않아도 될 만큼 비즈니스 로직이 단순한 애플리케이션이라면 서비스 계층과 데이터 액세스 계층을
통합할 수도 있다. 반대로 프레젠테이션 계층에 서비스 계층을 통합하는 방법도 가능하다. 하지만 스프링에서는 그리 권장되지 않는다.

스프링 AOP를 이용해 트랜잭션의 경계를 설정하기가 애매하기 때문이다. DAO가 트랜잭션 경계가 되는 경우에는 트랜잭션 전파
기법을 이용해 여러 개의 DAO 처리를 하나의 트랜잭션으로 조합해서 간단히 묶을 수 있다. 반면에 프레젠테이션 계층의 오브젝트는
트랜잭션 단위로 삼기에는 너무 크고 트랜잭션 전파을 통해 조합하기가 애매해다. 그래서 굳이 이런 방식을 써야 한다면
TransactionTemplate을 이용해 코드에 의한 트랜잭션 경계설정을 해야 하는데 이는 너무 번거롭다.

따라서 3계층을 단순화해서 2계층으로 만든다면 서비스 계층과 데이터 엑세스 계층을 통합하는 편이 낫다. 물론 이때도 논리적으로는
서비스 계층과 데이터 액세스 계층의 경계를 분명하게 하는 게 좋다.